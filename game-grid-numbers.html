<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grid Numbers Puzzle</title>
    <style>
        body {
            background-color: black;
            color: white;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
        }
        header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        h1 {
            margin: 0 20px 0 0;
        }
        .matrix-container {
            padding: 10px;
            border: 4px solid gold;
        }
        .matrix {
            display: grid;
            grid-template-columns: repeat(8, 50px);
            grid-template-rows: repeat(8, 50px);
        }
        .matrix div {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid white;
            box-sizing: border-box;
            background-color: grey;
        }
        .matrix .number {
            font-weight: bold;
        }
        .matrix .number.gold {
            color: gold;
            border: 2px solid gold;
        }
        .matrix .clickable {
            cursor: pointer;
        }
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 20px;
            border: 4px solid gold;
            background-color: white;
            color: black;
            text-align: center;
            font-size: 1.5em;
        }
    </style>
</head>
<body>
    <header>
        <h1>Grid Numbers Puzzle</h1>
        <a href="index.html">
            <button>Back Home</button>
        </a>
    </header>
    <div class="matrix-container">
        <div class="matrix">
            <!-- Upper left empty cell -->
            <div></div>
            <!-- First row numbers -->
            <div class="number" id="col1-header">1</div>
            <div class="number" id="col2-header">2</div>
            <div class="number" id="col3-header">3</div>
            <div class="number" id="col4-header">4</div>
            <div class="number" id="col5-header">5</div>
            <div class="number" id="col6-header">6</div>
            <div class="number" id="col7-header">7</div>
            <!-- First column numbers and the rest of the matrix -->
            <div class="number" id="row1-header">1</div>
            <div class="clickable" data-row="1" data-col="1"></div>
            <div class="clickable" data-row="1" data-col="2"></div>
            <div class="clickable" data-row="1" data-col="3"></div>
            <div class="clickable" data-row="1" data-col="4"></div>
            <div class="clickable" data-row="1" data-col="5"></div>
            <div class="clickable" data-row="1" data-col="6"></div>
            <div class="clickable" data-row="1" data-col="7"></div>
            <div class="number" id="row2-header">2</div>
            <div class="clickable" data-row="2" data-col="1"></div>
            <div class="clickable" data-row="2" data-col="2"></div>
            <div class="clickable" data-row="2" data-col="3"></div>
            <div class="clickable" data-row="2" data-col="4"></div>
            <div class="clickable" data-row="2" data-col="5"></div>
            <div class="clickable" data-row="2" data-col="6"></div>
            <div class="clickable" data-row="2" data-col="7"></div>
            <div class="number" id="row3-header">3</div>
            <div class="clickable" data-row="3" data-col="1"></div>
            <div class="clickable" data-row="3" data-col="2"></div>
            <div class="clickable" data-row="3" data-col="3"></div>
            <div class="clickable" data-row="3" data-col="4"></div>
            <div class="clickable" data-row="3" data-col="5"></div>
            <div class="clickable" data-row="3" data-col="6"></div>
            <div class="clickable" data-row="3" data-col="7"></div>
            <div class="number" id="row4-header">4</div>
            <div class="clickable" data-row="4" data-col="1"></div>
            <div class="clickable" data-row="4" data-col="2"></div>
            <div class="clickable" data-row="4" data-col="3"></div>
            <div class="clickable" data-row="4" data-col="4"></div>
            <div class="clickable" data-row="4" data-col="5"></div>
            <div class="clickable" data-row="4" data-col="6"></div>
            <div class="clickable" data-row="4" data-col="7"></div>
            <div class="number" id="row5-header">5</div>
            <div class="clickable" data-row="5" data-col="1"></div>
            <div class="clickable" data-row="5" data-col="2"></div>
            <div class="clickable" data-row="5" data-col="3"></div>
            <div class="clickable" data-row="5" data-col="4"></div>
            <div class="clickable" data-row="5" data-col="5"></div>
            <div class="clickable" data-row="5" data-col="6"></div>
            <div class="clickable" data-row="5" data-col="7"></div>
            <div class="number" id="row6-header">6</div>
            <div class="clickable" data-row="6" data-col="1"></div>
            <div class="clickable" data-row="6" data-col="2"></div>
            <div class="clickable" data-row="6" data-col="3"></div>
            <div class="clickable" data-row="6" data-col="4"></div>
            <div class="clickable" data-row="6" data-col="5"></div>
            <div class="clickable" data-row="6" data-col="6"></div>
            <div class="clickable" data-row="6" data-col="7"></div>
            <div class="number" id="row7-header">7</div>
            <div class="clickable" data-row="7" data-col="1"></div>
            <div class="clickable" data-row="7" data-col="2"></div>
            <div class="clickable" data-row="7" data-col="3"></div>
            <div class="clickable" data-row="7" data-col="4"></div>
            <div class="clickable" data-row="7" data-col="5"></div>
            <div class="clickable" data-row="7" data-col="6"></div>
            <div class="clickable" data-row="7" data-col="7"></div>
        </div>
    </div>

    <div class="popup" id="popup">
        Yay, you made it! Congrats! :)
    </div>

    <script>
        // Initialize row and column counters
        let r1 = 0, r2 = 0, r3 = 0, r4 = 0, r5 = 0, r6 = 0, r7 = 0;
        let c1 = 0, c2 = 0, c3 = 0, c4 = 0, c5 = 0, c6 = 0, c7 = 0;

        function checkCounters() {
            for (let i = 1; i <= 7; i++) {
                const rowCounter = window[`r${i}`];
                const colCounter = window[`c${i}`];
                const rowHeader = document.getElementById(`row${i}-header`);
                const colHeader = document.getElementById(`col${i}-header`);

                if (rowCounter === i) {
                    rowHeader.classList.add('gold');
                } else {
                    rowHeader.classList.remove('gold');
                }

                if (colCounter === i) {
                    colHeader.classList.add('gold');
                } else {
                    colHeader.classList.remove('gold');
                }
            }

            // Check if all counters match their headers
            const allRowsMatch = [r1, r2, r3, r4, r5, r6, r7].every((count, index) => count === index + 1);
            const allColsMatch = [c1, c2, c3, c4, c5, c6, c7].every((count, index) => count === index + 1);

            if (allRowsMatch && allColsMatch) {
                document.getElementById('popup').style.display = 'block';
            }
        }

        document.querySelectorAll('.clickable').forEach(cell => {
            cell.addEventListener('click', () => {
                const row = cell.getAttribute('data-row');
                const col = cell.getAttribute('data-col');
                switch(cell.style.backgroundColor) {
                    case 'grey':
                        cell.style.backgroundColor = 'gold';
                        window[`r${row}`]++;
                        window[`c${col}`]++;
                        break;
                    case 'gold':
                        cell.style.backgroundColor = 'black';
                        window[`r${row}`]--;
                        window[`c${col}`]--;
                        break;
                    case 'black':
                        cell.style.backgroundColor = 'grey';
                        break;
                }
                checkCounters();
            });
        });
    </script>
</body>
</html>
